(()=>{"use strict";const e=(()=>{const e=document.getElementById("add-quest-button"),t=document.getElementById("nav-items");let n=[{name:"Daily Commissions",commissions:[]}],s=n[0];function o(e){for(const e of document.querySelectorAll(".quest-item-a"))e.textContent.includes(s.name)&&e.classList.remove("current-quest");s=e;for(const e of document.querySelectorAll(".quest-item-a"))e.textContent.includes(s.name)&&e.classList.add("current-quest")}function c(e){const t={name:e,commissions:[]};return n.push(t),t}function i(e,n){const s=document.createElement("li");s.classList.add("quest-item");const c=document.createElement("a");c.classList.add("quest-item-a"),c.textContent=e,c.addEventListener("click",(()=>{!function(e){m(),0!==e.commissions.length&&u(e)}(n),o(n)})),s.appendChild(c),t.appendChild(s)}function m(){document.querySelectorAll(".commissions-item").forEach((e=>e.remove()))}e.addEventListener("click",(()=>{const e=document.createElement("input");e.type="text",e.classList.add("input-textbox"),t.appendChild(e);const n=document.createElement("button");n.textContent="Add",n.addEventListener("click",(()=>{const t=e.value;e.remove(),n.remove(),i(t,c(t))})),t.appendChild(n)}));const d=document.getElementById("commissions-ul"),a=document.getElementById("add-commissions-button");function l(e,t){const n={name:e};return t.commissions.push(n),n}function u(e){e.commissions.forEach((e=>{r(e)}))}function r(e){const t=document.createElement("li");t.classList.add("commissions-item");const n=document.createElement("div");n.classList.add("commissions-item-left");const o=document.createElement("img");var c;o.classList.add("commission-img"),o.src="./assets/Icon-Commission.png",(c=o).addEventListener("click",(e=>{const t=c.nextElementSibling.textContent,n=s.commissions,o=n.findIndex((e=>e.name===t));n.splice(o,1),e.target.closest(".commissions-item").remove()}));const i=document.createElement("h3");i.classList.add("commissions-title"),i.textContent=e.name,n.appendChild(o),n.appendChild(i),t.appendChild(n),d.insertBefore(t,a)}return a.addEventListener("click",(()=>{const e=document.createElement("input");e.type="text",e.classList.add("input-textbox"),d.appendChild(e);const t=document.createElement("button");t.textContent="Add",t.addEventListener("click",(()=>{const n=e.value;e.remove(),t.remove(),r(l(n,s))})),d.appendChild(t)})),document.getElementById("daily-commissions").addEventListener("click",(()=>{m(),o(n[0]);for(let e=0;e<n.length;e++)u(n[e])})),{createQuest:c,addQuestToNav:i,createCommission:l}})(),t=e,n=t.createQuest("Schoolwork");t.createCommission("Finish Physics Worksheet",n),t.addQuestToNav("Schoolwork",n)})();