(()=>{"use strict";(()=>{const e=document.getElementById("add-quest-button"),t=document.getElementById("nav-items");let n=[{name:"Schoolwork",commissions:[{name:"Finish Physics Wks"}]}],s=n.find((e=>e.name="Schoolwork"));function o(){document.querySelectorAll(".commissions-item").forEach((e=>e.remove()))}e.addEventListener("click",(()=>{const e=document.createElement("input");e.type="text",e.classList.add("input-textbox"),t.appendChild(e);const c=document.createElement("button");c.textContent="Add",c.addEventListener("click",(()=>{const i=e.value;e.remove(),c.remove();const d=function(e){const t={name:e,commissions:[]};return n.push(t),t}(i);!function(e,n){const c=document.createElement("li");c.classList.add("quest-item");const i=document.createElement("a");i.classList.add("quest-item-a"),i.textContent=e,i.addEventListener("click",(()=>{!function(e){o(),0!==e.commissions.length&&m(e)}(n),s=n})),c.appendChild(i),t.appendChild(c)}(i,d)})),t.appendChild(c)}));const c=document.getElementById("commissions-ul"),i=document.getElementById("add-commissions-button");function m(e){e.commissions.forEach((e=>{d(e)}))}function d(e){const t=document.createElement("li");t.classList.add("commissions-item");const n=document.createElement("div");n.classList.add("commissions-item-left");const o=document.createElement("img");var m;o.classList.add("commission-img"),o.src="./assets/Icon-Commission.png",(m=o).addEventListener("click",(e=>{const t=m.nextElementSibling.textContent,n=s.commissions,o=n.findIndex((e=>e.name===t));n.splice(o,1),console.log("index: "+o),e.target.closest(".commissions-item").remove()}));const d=document.createElement("h3");d.classList.add("commissions-title"),d.textContent=e.name,n.appendChild(o),n.appendChild(d),t.appendChild(n),c.insertBefore(t,i)}i.addEventListener("click",(()=>{const e=document.createElement("input");e.type="text",e.classList.add("input-textbox"),c.appendChild(e);const t=document.createElement("button");t.textContent="Add",t.addEventListener("click",(()=>{const n=e.value;e.remove(),t.remove(),d(function(e,t){const n={name:e};return t.commissions.push(n),n}(n,s))})),c.appendChild(t)})),document.getElementById("daily-commissions").addEventListener("click",(()=>{o(),n.forEach((e=>{m(e)}))}))})()})();