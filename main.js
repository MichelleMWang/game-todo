(()=>{"use strict";const e=(()=>{const e=document.getElementById("add-quest-button"),t=document.getElementById("nav-items");let n=[{name:"Daily Commissions",commissions:[]}],s=n[0];function o(e){for(const e of document.querySelectorAll(".quest-item-a"))e.textContent.includes(s.name)&&e.classList.remove("current-quest");s=e;for(const e of document.querySelectorAll(".quest-item-a"))e.textContent.includes(s.name)&&e.classList.add("current-quest")}function c(e){const t={name:e,commissions:[]};return n.push(t),t}function i(e,n){const s=document.createElement("li");s.classList.add("quest-item");const c=document.createElement("a");c.classList.add("quest-item-a"),c.textContent=e,c.addEventListener("click",(()=>{d(n),o(n)})),s.appendChild(c),t.appendChild(s)}function d(e){m(),0!==e.commissions.length&&r(e)}function m(){document.querySelectorAll(".commissions-item").forEach((e=>e.remove()))}e.addEventListener("click",(()=>{const e=document.createElement("input");e.type="text",e.classList.add("input-textbox"),t.appendChild(e);const n=document.createElement("button");n.textContent="Add",n.addEventListener("click",(()=>{const t=e.value;e.remove(),n.remove(),i(t,c(t))})),t.appendChild(n)}));const a=document.getElementById("commissions-ul"),l=document.getElementById("add-commissions-button");function u(e,t){const n={name:e};return t.commissions.push(n),n}function r(e){e.commissions.forEach((t=>{p(t,e)}))}function p(e,t){const s=document.createElement("li");s.classList.add("commissions-item");const o=document.createElement("div");o.classList.add("commissions-item-left");const c=document.createElement("img");var i;c.classList.add("commission-img"),c.src="./assets/Icon-Commission.png",(i=c).addEventListener("click",(e=>{const t=i.nextElementSibling,s=t.querySelector(".commissions-title").textContent,o=t.querySelector(".commission-quest-tag").textContent,c=n.find((e=>e.name==o)),d=c.commissions,m=d.findIndex((e=>e.name===s));d.splice(m,1),e.target.closest(".commissions-item").remove()}));const d=document.createElement("div");d.classList.add("comm-info-div");const m=document.createElement("h3");m.classList.add("commissions-title"),m.textContent=e.name;const u=document.createElement("h4");u.classList.add("commission-quest-tag"),u.textContent=t.name,o.appendChild(c),d.appendChild(m),d.appendChild(u),o.appendChild(d),s.appendChild(o),a.insertBefore(s,l)}return l.addEventListener("click",(()=>{const e=document.createElement("div");e.classList.add("input-div");const t=document.createElement("input");t.type="text",t.classList.add("input-textbox"),e.appendChild(t);const n=document.createElement("button");n.textContent="Add",n.addEventListener("click",(()=>{const n=t.value;e.remove(),p(u(n,s),s)})),e.appendChild(n),a.appendChild(e)})),document.getElementById("daily-commissions").addEventListener("click",(()=>{m(),o(n[0]);for(let e=0;e<n.length;e++)r(n[e])})),{createQuest:c,addQuestToNav:i,createCommission:u,loadQuest:d}})(),t=e,n=t.createQuest("Schoolwork");t.createCommission("Finish Physics Worksheet",n),t.addQuestToNav("Schoolwork",n),t.loadQuest(n)})();